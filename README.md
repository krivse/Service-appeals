`Python` `Tornado` `CSS` `HTML` `NGINX` `PostgreSQL` `Docker` `RabbitMQ`

# Система регистрации обращений.

**_Ссылка на [проект](http://81.200.31.76:8080/ "Гиперссылка к проекту.")_**

Система состоит из следующих элементов:
```
- фронтенд (html, js(jQuery), css, nginx)
- бэкэнд (tornado)
- сервис очередей (rabbitMQ)
- сервис записи в базу данных (fastapi)
- база данных (PostgreSQL)
```

### **_Описание элемента "фронтенд":_**
Страница приема обращения гражданина, обязательные элементы:
```
- поле Фамилия (тип текст)
- поле Имя (тип текст)
- поле Отчество (тип текст)
- поле Телефон (тип телефон, маска для телефона (jquey))
- поле Обращение (тип большой текст)
- кнопка "Отправить" (инициализируется отправка данных на бэкенд)
```

### **_Описание элемента "бэкенд":_**
```
Сервис реализующий функционал приема данных от фронтенда, формирование объекта и отправка
его в сервис очередей.
```

### **_Описание элемента "сервис очередей":_**
```
rabbitMQ, библиотека Pika
```

### **_Описание элемента "сервис записи в базу данных":_**
```
Cервис непрерывно работающий и подключенный к очереди rabbitmq, проверяет наличие там объектов,
извлекает их, и записывает в базу данных.
```

### **_Описание элемента "база данных":_**
```
Таблица содержит соответствующие поля из пункта "фронтенд".
```

## **_Запуск системы регистрации обращений:_**

**_Клонировать репозиторий:_**
```
git@github.com:krivse/Foodgram.git
```

**_Установить на сервере Docker, Docker Compose:_**
```
1. sudo apt install curl                                   - установка утилиты для скачивания файлов
2. curl -fsSL https://get.docker.com -o get-docker.sh      - скачать скрипт для установки
3. sh get-docker.sh                                        - запуск скрипта
4. sudo apt-get install docker-compose-plugin              - последняя версия docker compose
5. sudo apt install \
   apt-transport-https \
   ca-certificates \
   curl \
   gnupg-agent \
   software-properties-common -y                         - Установить необходимые пакеты для загрузки через https
6. curl -fsSL \ 
   https://download.docker.com/linux/ubuntu/gpg | \
   sudo apt-key add -                                    - Ключ GPG для подтверждения подлинности в процессе установки
7. sudo add-apt-repository "deb [arch=amd64] \
   https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) stable"                            - Добавьте репозиторий Docker в пакеты apt
8. sudo apt update                                       - В APT был добавлен новый репозиторий, обновление индекса пакетов

9. sudo apt install docker-ce docker-compose -y          - Установите Docker, а вместе с ним Docker Compose
```
**_В директории проекта файл myenv.env переименовать в .env и заполнить своими данными_**

**_При запуске команды *sudo docker compose up -d*, поднимается 5 контейнеров в сетевом
пространстве:_**
```
- По url ipfrontend:80 открывается страница приема обращения.
- В rabbitmq также настроен плагин managemen и доступен в консоли раббита с iprabbitmq:15672
- В контейнер db через реквизиты доступа к БД можно попасть внутрь и
просматривать структуру.
```

### Автор
**_Иван Красников_**